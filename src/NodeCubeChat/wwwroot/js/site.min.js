function UserLeftTheChat(){}function GetYoutubeVideoId(n){var i,t;return i=n.match(/^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/)|(?:(?:watch)?\?v(?:i)?=|\&v(?:i)?=))([^#\&\?]*).*/),t=i[1],t.indexOf(" ")>0&&(t=t.substring(0,t.indexof(" "))),t}function AddMessageToDB(n,t){$.ajax({type:"POST",url:"/Home/AddMessage",data:{Message:n,Room:t},cache:!1,dataType:"json"})}function ApproveConversation(n){$.ajax({type:"POST",url:"/Private/ApproveConversation",data:{ConversationId:n},cache:!1,dataType:"json"})}function AddPrivateMessageToDB(n,t){$.ajax({type:"POST",url:"/Private/AddPrivateMessage",data:{Message:n,ConversationId:t},cache:!1,dataType:"json"})}function UpvoteUser(n){var i=$("#RatingOverview").data("rated"),t;i=="No"&&($.ajax({type:"POST",url:"/User/UpvoteUser",data:{DisplayName:n},cache:!1,dataType:"json"}),t=parseInt($("#UserRatingCount").text(),10),t++,$("#UserRatingCount").text(t));i=$("#RatingOverview").data("rated","Yes")}function DownvoteUser(n){var i=$("#RatingOverview").data("rated"),t;i=="No"&&($.ajax({type:"POST",url:"/User/DownvoteUser",data:{DisplayName:n},cache:!1,dataType:"json"}),t=parseInt($("#UserRatingCount").text(),10),t-=1,$("#UserRatingCount").text(t));i=$("#RatingOverview").data("rated","Yes")}function OpenModal(n,t){modalOpened=!0;switch(n){case"Settings":$("#ModalContent").attr("src","/Manage/Index");break;case"Profile":$("#ModalContent").attr("src","/User/Profile/"+t)}$("#ModalWindow").removeClass("hidden")}function CloseModal(){modalOpened=!1;$("#ModalContent").attr("src","");$("#ModalWindow").addClass("hidden")}function OpenVideoDialog(){videoOpened?(videoOpened=!1,$("#SendVideo").addClass("hidden")):(videoOpened=!0,$("#SendVideo").removeClass("hidden"))}function CloseVideoDialog(){videoOpened=!1;$("#SendVideo").addClass("hidden")}function OpenSidebar(n){$(n).removeClass("hide");switch(n){case"#UserSidebar":userSidebarHidden=!1;break;case"#RoomSidebar":roomSiderbarHidden=!1}}function CloseSidebar(n){$(n).addClass("hide");switch(n){case"#UserSidebar":userSidebarHidden=!0;break;case"#RoomSidebar":roomSiderbarHidden=!0}}var modalOpened=!1,videoOpened=!1,userSidebarHidden=!1,roomSiderbarHidden=!1;jQuery(window).ready(function(n){n(document).width()<768&&(n("#UserSidebar").addClass("hide"),userSidebarHidden=!0);n(document).width()<618&&(n("#RoomSidebar").addClass("hide"),roomSiderbarHidden=!0);setInterval(function(){n("time").each(function(t,i){var r=moment(n(i).attr("datetime"));n(i).html(" "+r.fromNow())})},1e3)});$(document).keyup(function(n){$("#UserChatMessage:focus")&&n.keyCode===13&&SendMessage();$("#UserVideoLink:focus")&&n.keyCode===13&&SendVideo();n.keyCode==27&&modalOpened&&(modalOpened=!1,$("#ModalWindow").addClass("hidden"))});$(window).resize(function(){$(document).width()<618&&roomSiderbarHidden===!1&&($("#RoomSidebar").addClass("hide"),roomSiderbarHidden=!0);$(document).width()<768&&userSidebarHidden===!1&&($("#UserSidebar").addClass("hide"),userSidebarHidden=!0);$(document).width()>618&&roomSiderbarHidden===!0&&($("#RoomSidebar").removeClass("hide"),roomSiderbarHidden=!1);$(document).width()>768&&userSidebarHidden===!0&&($("#UserSidebar").removeClass("hide"),userSidebarHidden=!1)});$(document).on("click",".panel-heading span.icon_minim",function(){var n=$(this);n.hasClass("panel-collapsed")?(n.parents(".panel").find(".panel-body").slideDown(),n.removeClass("panel-collapsed"),n.removeClass("glyphicon-plus").addClass("glyphicon-minus")):(n.parents(".panel").find(".panel-body").slideUp(),n.addClass("panel-collapsed"),n.removeClass("glyphicon-minus").addClass("glyphicon-plus"))});$(document).on("focus",".panel-footer input.chat_input",function(){var n=$(this);$("#minim_chat_window").hasClass("panel-collapsed")&&(n.parents(".panel").find(".panel-body").slideDown(),$("#minim_chat_window").removeClass("panel-collapsed"),$("#minim_chat_window").removeClass("glyphicon-plus").addClass("glyphicon-minus"))});$(document).on("click","#new_chat",function(){var t=$(".chat-window:last-child").css("margin-left"),n;size_total=parseInt(t)+400;alert(size_total);n=$("#UsersInChat").clone().appendTo(".container");n.css("margin-left",size_total)});$(document).on("click",".icon_close",function(){$(this).parent().parent().parent().parent().remove()});